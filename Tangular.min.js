var Tangular={};Tangular.helpers={},Tangular.version='v1.9.0',Tangular.cache={},Tangular.ENCODE=/[<>&"]/g,Tangular.TRIM=/\n$/g,Tangular.debug=!1,Tangular.settings={delimiters:['{{','}}']},Tangular.i={},Tangular.i.white=/\W/,Tangular.i.numbers={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1},Tangular.i.allow={$:1,'.':1},Tangular.register=function(n,r){return Tangular.helpers[n]=r,Tangular},Tangular.compile=function(n){n||(n='');for(var r,e=-1,a=[],t=-1,u=0,l=n.length,i=0,s=Tangular.settings.delimiters[0].length,g=[],o=-1;l>e++;){var c=n.substring(e,e+s);if(t===-1)if(c!==Tangular.settings.delimiters[0]);else{if(t!==-1){i++;continue}r=n.substring(u,e),r&&(o=g.indexOf(r),o===-1&&(o=g.length,g.push(r))),a.push(r?'txt['+o+']':'""'),t=e+s}else if(c===Tangular.settings.delimiters[1]){if(i>0){i--;continue}var f=n.substring(t,e).trim(),h=f.substring(0,3);if('if '===h||'for'===h||'end'===f||'fi'===f||'else'===f||'else if'===f){var p=g.length-1;g[p]&&(g[p]=g[p].replace(Tangular.TRIM,''))}a.push(f),u=e+s,t=-1;continue}}r=n.substring(u,l),r&&(o=g.indexOf(r),o===-1&&(o=g.length,g.push(r))),a.push(r?'txt['+o+']':'""'),l=a.length;for(var T='$output+=',d='var $s=this,$output="",$t,$v;',$=[],v=!1,b=0,m=0;m<l;m++)if(m%2!==0){var f=a[m],w=!1,e=f.lastIndexOf('|'),x=null,O=f.substring(0,3);'if '===O&&(f='if( '+f.substring(3)+'){',w=!0),'foreach '===f.substring(0,8)&&(x=f.split(' '),'var'===x[1]&&x.splice(1,1),$.push(x[1]),w=!0,v=!0,b++);var j=f.substring(0,5);if('endif'===j||'fi'===f?(f='}',w=!0):'else'===j?(f='}else{',w=!0):'else if'===f.substring(0,7)?(f='}else if( '+f.substring(8)+'){',w=!0):'end'!==O&&'endfor'!==f.substring(0,6)||(f=$.length?'}})()}':'}}',$.pop(),w=!0,b--,b||(v=!1)),f=w?Tangular.append(f,$,v,'$s').trim():Tangular.helper(f,$,v,'$s'),w){if(x){var C=Tangular.append(x[3],$,v,'$s');f='if ('+C+'&&'+C+'.length){(function(){for(var i=0,length='+C+'.length;i<length;i++){var '+x[1]+'='+C+'[i];var $index=i;'}d+=f}else d+=T+f+';'}else d+=T+a[m]+';';var E=59===d.charCodeAt(d.length-1);return Tangular.debug&&(console.log('Tangular:'),console.log('function(helpers,$){'+d+(E?'':';')+'return $output;'),console.log(n.trim()),console.log('---------------------------'),console.log('')),function(n,r){return new Function('helpers','$','txt',d+(E?'':';')+'return $output;').call(n,Tangular.helperhandling,r,g)}},Tangular.helperhandling=function(n){var r=Tangular.helpers[n];return r?r:(console.warn('Tangular helper "'+n+'" not found.'),function(n){return void 0===n?'undefined':null===n?'null':n.toString()})},Tangular.helper=function(n,r,e){var a,t=n.indexOf('|');if(t===-1)return a=Tangular.append(n.trim(),r,e,'$s').trim(),'helpers("encode").call($s,'+a+')';a=Tangular.append(n.substring(0,t).trim(),r,e).trim(),n=n.substring(t+1).trim().split('|');for(var u='',l=0,i=n.length;l<i;l++){var s,g=n[l].trim().replace('()','');t=g.indexOf('('),t===-1?(s=g,g='.call($s,$t)'):(s=g.substring(0,t),g='.call($s,$t,'+g.substring(t+1)),g='$t=helpers("'+s+'")'+g,u+=g+';'}return'"";$t='+a+';'+u+'$output+=$t'},Tangular.parse=function(n,r){for(var e=[],a=null,t=[],u=0,l=n.length;u<l;u++){var i=n.substring(u,u+1);i!==a?a?t.push(i):'\''!==i&&'"'!==i?!Tangular.i.numbers[i]||e.length?Tangular.i.allow[i]||!Tangular.i.white.test(i)?' '!==i?e.push(i):t.push(i):(e.length&&(t.push(r(e.join(''))),e=[]),t.push(i)):t.push(i):(e.length&&(t.push(r(e.join(''))),e=[]),a=i,t.push(i)):(a=null,e=[],t.push(i))}return e.length&&t.push(r(e.join(''))),t.join('')},Tangular.append=function(n,r,e,a){return void 0===r&&(r=[]),n?Tangular.parse(n,function(n){switch(n.trim()){case'else':case'end':case'endfor':case'endif':case'fi':case'foreach':case'if':case'true':case'false':case'else if':return n;case'$index':return n}for(var e=!1,t=0,u=r.length;t<u;t++){var l=r[t].length;if(n.substring(0,l)===r[t]){if(n.length!==l){var i=n.substring(l,l+1);if('.'!==i&&'+'!==i)continue}e=!0;break}}if('$'===n)return'Tangular.$wrap($)';if('$.'===n.substring(0,2)&&(a='$',n=n.substring(2)),e)return n;i=n.substring(0,1);var s=i.charCodeAt(0);return s>47&&s<58?n:'Tangular.$wrap('+(a||'$s')+',"'+n+'")'}):'Tangular.$wrap('+(a||'$s')+')'},Tangular.$wrap=function(n,r){if(!n||!r)return n;var e=Tangular.cache[r];if(null===e)return n[r];if(e)return e(n);if(1===r.split('.').length)return Tangular.cache[r]=null,n[r];try{e=Tangular.cache[r]=new Function('XYZ','try{return XYZ.'+r+'}catch(e){return ""}')}catch(n){e=new Function('return ""')}return e(n)},Tangular.render=function(n,r,e){return null==r&&(r={}),'string'==typeof n&&(n=Tangular.compile(n)),n(r,e)},Tangular.register('encode',function(n){return null==n?'':n.toString().replace(Tangular.ENCODE,function(n){switch(n){case'&':return'&amp;';case'<':return'&lt;';case'>':return'&gt;';case'"':return'&quot;'}return n})}),Tangular.register('raw',function(n){return null==n?'':n}),window.Tangular=Tangular,window.Ta=Tangular;