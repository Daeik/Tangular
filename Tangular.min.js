var Tangular={};Tangular.helpers={},Tangular.version='v1.8.2',Tangular.cache={},Tangular.ENCODE=/[<>&"]/g,Tangular.TRIM=/\n$/g,Tangular.debug=!1,Tangular.settings={delimiters:['{{','}}']},Tangular.register=function(r,n){return Tangular.helpers[r]=n,Tangular},Tangular.compile=function(r){r||(r='');for(var n,e=-1,t=[],a=-1,u=0,i=r.length,l=0,s=Tangular.settings.delimiters[0].length,g=[],c=-1;i>e++;){var o=r.substring(e,e+s);if(a===-1)if(o!==Tangular.settings.delimiters[0]);else{if(a!==-1){l++;continue}n=r.substring(u,e),n&&(c=g.indexOf(n),c===-1&&(c=g.length,g.push(n))),t.push(n?'txt['+c+']':'""'),a=e+s}else if(o===Tangular.settings.delimiters[1]){if(l>0){l--;continue}var f=r.substring(a,e).trim(),p=f.substring(0,3);if('if '===p||'for'===p||'end'===f||'fi'===f||'else'===f||'else if'===f){var h=g.length-1;g[h]&&(g[h]=g[h].replace(Tangular.TRIM,''))}t.push(f),u=e+s,a=-1;continue}}n=r.substring(u,i),n&&(c=g.indexOf(n),c===-1&&(c=g.length,g.push(n))),t.push(n?'txt['+c+']':'""'),i=t.length;for(var T='$output+=',d='var $s=this,$output="",$t,$v;',$=[],v=!1,b=0,m=0;m<i;m++)if(m%2!==0){var f=t[m],w=!1,e=f.lastIndexOf('|'),x=null,O=f.substring(0,3);'if '===O&&(f='if( '+f.substring(3)+'){',w=!0),'foreach '===f.substring(0,8)&&(x=f.split(' '),'var'===x[1]&&x.splice(1,1),$.push(x[1]),w=!0,v=!0,b++);var C=f.substring(0,5);if('endif'===C||'fi'===f?(f='}',w=!0):'else'===C?(f='}else{',w=!0):'else if'===f.substring(0,7)?(f='}else if( '+f.substring(8)+'){',w=!0):'end'!==O&&'endfor'!==f.substring(0,6)||(f=$.length?'}})()}':'}}',$.pop(),w=!0,b--,b||(v=!1)),f=w?Tangular.append(f,$,v,'$s').trim():Tangular.helper(f,$,v,'$s'),w){if(x){var E=Tangular.append(x[3],$,v,'$s');f='if ('+E+'&&'+E+'.length){(function(){for(var i=0,length='+E+'.length;i<length;i++){var '+x[1]+'='+E+'[i];var $index=i;'}d+=f}else d+=T+f+';'}else d+=T+t[m]+';';var y=59===d.charCodeAt(d.length-1);return Tangular.debug&&(console.log('Tangular:'),console.log('function(helpers,$){'+d+(y?'':';')+'return $output;'),console.log(r.trim()),console.log('---------------------------'),console.log('')),function(r,n){return new Function('helpers','$','txt',d+(y?'':';')+'return $output;').call(r,Tangular.helperhandling,n,g)}},Tangular.helperhandling=function(r){var n=Tangular.helpers[r];return n?n:(console.warn('Tangular helper "'+r+'" not found.'),function(r){return void 0===r?'undefined':null===r?'null':r.toString()})},Tangular.helper=function(r,n,e){var t,a=r.indexOf('|');if(a===-1)return t=Tangular.append(r.trim(),n,e,'$s').trim(),'helpers("encode").call($s,'+t+')';t=Tangular.append(r.substring(0,a).trim(),n,e).trim(),r=r.substring(a+1).trim().split('|');for(var u='',i=0,l=r.length;i<l;i++){var s,g=r[i].trim().replace('()','');a=g.indexOf('('),a===-1?(s=g,g='.call($s,$t)'):(s=g.substring(0,a),g='.call($s,$t,'+g.substring(a+1)),g='$t=helpers("'+s+'")'+g,u+=g+';'}return'"";$t='+t+';'+u+'$output+=$t'},Tangular.append=function(r,n,e,t){return void 0===n&&(n=[]),r?r.replace(/[\_\$a-zá-žÁ-ŽA-Z0-9\s\.\[\]]+/g,function(r,e,a){var u=a.substring(e-1,e),i=!1,l=r.trim();switch('"'!==u&&'\''!==u&&'.'!==u||(i=!0),r.trim()){case'else':case'end':case'endfor':case'endif':case'fi':case'foreach':case'if':case'else if':return r;case'$index':if(!i)return r}if(!l)return'';if(i)return r;i=!1;for(var s=0,g=n.length;s<g;s++){var c=n[s].length;if(l.substring(0,c)===n[s]){if(l.length!==c){var u=l.substring(c,c+1);if('.'!==u&&'+'!==u)continue}i=!0;break}}if('$'===l)return'Tangular.$wrap($)';if('$.'===l.substring(0,2)&&(t='$',l=l.substring(2)),i)return l;u=l.substring(0,1);var o=u.charCodeAt(0);return o>47&&o<58?l:'Tangular.$wrap('+(t||'$s')+',"'+l+'")'}):'Tangular.$wrap('+(t||'$s')+')'},Tangular.$wrap=function(r,n,e){if(!r||!n)return r;var t=Tangular.cache[n];if(null===t)return r[n];if(t)return t(r);if(1===n.split('.').length)return Tangular.cache[n]=null,r[n];try{t=Tangular.cache[n]=new Function('XYZ','try{return XYZ.'+n+'}catch(e){return ""}')}catch(r){t=new Function('return ""')}return t(r)},Tangular.render=function(r,n,e){return null==n&&(n={}),'string'==typeof r&&(r=Tangular.compile(r)),r(n,e)},Tangular.register('encode',function(r){return null==r?'':r.toString().replace(Tangular.ENCODE,function(r){switch(r){case'&':return'&amp;';case'<':return'&lt;';case'>':return'&gt;';case'"':return'&quot;'}return r})}),Tangular.register('raw',function(r){return null==r?'':r}),window.Tangular=window.Ta=Tangular;